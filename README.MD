# ğŸ¤– AI-Powered Testing Agent
### Autonomous Web Test Generation with Zero-Trust Security

[![Python](https://img.shields.io/badge/Python-3.12+-blue.svg)](https://www.python.org/downloads/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.100+-green.svg)](https://fastapi.tiangolo.com/)
[![Playwright](https://img.shields.io/badge/Playwright-1.40+-purple.svg)](https://playwright.dev/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

---

## ğŸ“– Overview

An **AI-powered autonomous testing platform** that uses Large Language Models (LLMs) to explore web applications, generate test cases, and execute Playwright scriptsâ€”all while maintaining a **Zero-Trust Security Architecture** where credentials never reach the AI.

### ğŸ¯ Key Features

- **ğŸ” AI-Driven Exploration**: Browser-Use Agent autonomously navigates your web app
- **ğŸ” Zero-Trust Security**: Credentials injected locally via Playwright, never sent to LLM
- **ğŸ–¥ï¸ Audit Dashboard**: Web-based interface to prove credentials never leak to AI (NEW!)
- **âš¡ Auto-Generated Scripts**: Creates executable Playwright test scripts with selectors
- **ğŸ­ Headless/Headed Modes**: Watch the agent work or run tests in background
- **ğŸ“Š Session Caching**: Smart session management to skip redundant logins
- **ğŸ” Multi-LLM Support**: Works with Gemini 2.0, GPT-4, Claude 3.5, or local models
- **ğŸ“ˆ Real-Time Monitoring**: Track LLM interactions and detect leaks live

---

## ğŸ¥ Demo Videos

### ğŸ•µï¸ Exploratory Agent in Action
Watch the AI agent autonomously explore the SauceDemo application and intelligently generate test cases:

https://github.com/user-attachments/assets/YOUR_VIDEO_ID_HERE

<details>
<summary>ğŸ“¹ Alternative: Direct Video Embed</summary>

![Exploratory Steps](demo/Exploratory%20Steps.mp4)

*Note: If video doesn't play above, download it from the `demo/` folder*
</details>

### âœ… Automated Test Execution
See the generated Playwright scripts execute with real browser automation:

https://github.com/user-attachments/assets/YOUR_VIDEO_ID_HERE

<details>
<summary>ğŸ“¹ Alternative: Direct Video Embed</summary>

![Test Execution](demo/Execution%20of%20Generated%20Test%20Steps.mp4)

*Note: If video doesn't play above, download it from the `demo/` folder*
</details>

---

## ğŸ—ï¸ Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      TRUST BOUNDARY                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  LOCAL ZONE (Secure)          â”‚    CLOUD ZONE (AI)          â”‚
â”‚                                â”‚                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   .env File      â”‚         â”‚         â”‚  LLM API    â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚         â”‚         â”‚  (Gemini/   â”‚    â”‚
â”‚  â”‚  â”‚ USERNAME   â”‚  â”‚         â”‚         â”‚   Claude)   â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚         â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚               â–²            â”‚
â”‚           â”‚                   â”‚               â”‚            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚         ONLY SEES:         â”‚
â”‚  â”‚ SecretsManager   â”‚         â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  inject_login()  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â–¶â”‚ Post-login   â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚      â”‚ Page State   â”‚      â”‚
â”‚           â”‚                   â”‚      â”‚              â”‚      â”‚
â”‚  Page is now logged in        â”‚      â”‚ "Welcome!"   â”‚      â”‚
â”‚           â”‚                   â”‚      â”‚ [Items...]   â”‚      â”‚
â”‚           â–¼                   â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚                            â”‚
â”‚     â”‚  AI Agent   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ”’ Security Guarantees

- âœ… **No Credentials in Prompts**: LLM never sees username/password
- âœ… **Local Injection**: Playwright fills login forms before AI involvement
- âœ… **Session Caching**: Cookies saved locally (never shared with AI)
- âœ… **Web Audit Dashboard**: Visual proof at `http://localhost:8000/audit`
- âœ… **Real-Time Leak Detection**: Scans every LLM request for credentials
- âœ… **Compliance Reports**: Auto-generated SOC2/ISO27001 documentation
- âœ… **Static Analysis**: Automated code verification in CI/CD
- âœ… **GDPR/SOC2/HIPAA Ready**: Enterprise-grade security architecture

---

## ğŸš€ Quick Start

### Prerequisites

- Python 3.12+
- Node.js 18+ (for Playwright browsers)
- API Key for Gemini/OpenAI/Claude (or local LLM setup)

### Installation

```bash
# Clone the repository
git clone https://github.com/yourusername/AI_Powered_Testing_Agent.git
cd AI_Powered_Testing_Agent

# Install dependencies
pip install -r requirements.txt

# Install Playwright browsers
playwright install chromium

# Configure environment
cp .env.example .env
# Edit .env with your API keys
```

### Configuration

Edit `.env` file:

```bash
# LLM Provider (options: gemini, openai, anthropic, custom)
LLM_PROVIDER=gemini

# API Keys (fill at least one)
GOOGLE_API_KEY=your_gemini_api_key_here
OPENAI_API_KEY=your_openai_key_here
ANTHROPIC_API_KEY=your_claude_key_here

# Optional: Default test credentials (can be overridden in UI)
APP_LOGIN_URL=https://www.saucedemo.com
APP_USERNAME=standard_user
APP_PASSWORD=secret_sauce
```

### Run the Server

```bash
# Start FastAPI server
python -m uvicorn src.core.server:app --reload --host 0.0.0.0 --port 8000
```

Open your browser: **http://localhost:8000**

---

## ğŸ“‚ Project Structure

```
AI_Powered_Testing_Agent/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ server.py              # FastAPI backend + audit endpoints
â”‚   â”‚   â”œâ”€â”€ secrets_manager.py     # ğŸ” Zero-trust credential injection
â”‚   â”‚   â””â”€â”€ config.py              # Configuration loader
â”‚   â”œâ”€â”€ security/                  # ğŸ” NEW: Security auditing
â”‚   â”‚   â”œâ”€â”€ audit_logger.py        # LLM request monitoring
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”œâ”€â”€ agents/
â”‚   â”‚   â””â”€â”€ explorer_agent.py      # ğŸ¤– AI exploration logic
â”‚   â”œâ”€â”€ generators/
â”‚   â”‚   â””â”€â”€ playwright_generator.py # ğŸ“ Script generation
â”‚   â””â”€â”€ llm/
â”‚       â””â”€â”€ llm_factory.py         # ğŸ§  Multi-LLM support
â”œâ”€â”€ templates/
â”‚   â”œâ”€â”€ index.html                 # ğŸ¨ Main web UI
â”‚   â””â”€â”€ audit_dashboard.html       # ğŸ›¡ï¸ NEW: Security audit UI
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ verify_credential_isolation.py # ğŸ”¬ Static code analysis
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ test_suites.json           # Generated test cases
â”‚   â”œâ”€â”€ generated_tests/           # Playwright scripts
â”‚   â”œâ”€â”€ auth_cache/                # Session cookies
â”‚   â”œâ”€â”€ security_audit/            # ğŸ” NEW: Audit logs & reports
â”‚   â””â”€â”€ audit_config.json          # ğŸ” NEW: Audit settings
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ ARCHITECTURE_GUIDE.md      # ğŸ“š Deep dive documentation
â”‚   â”œâ”€â”€ SECURITY_EXPLANATION.md    # ğŸ›¡ï¸ Security model explained
â”‚   â”œâ”€â”€ SECURITY_AUDIT_GUIDE.md    # ğŸ”¬ Audit verification guide
â”‚   â””â”€â”€ AUDIT_LOGGING_GUIDE.md     # ğŸ“– Audit feature docs
â”œâ”€â”€ demo/                          # ğŸ¥ Demo videos
â”œâ”€â”€ .env                           # ğŸ”‘ Secrets (git-ignored)
â””â”€â”€ requirements.txt
```

**Key Directories**:
- `src/security/` - ğŸ” **NEW**: Audit logging and leak detection
- `templates/audit_dashboard.html` - ğŸ–¥ï¸ **NEW**: Security verification UI
- `scripts/` - ğŸ”¬ Static code analysis tools

---

## ğŸ›¡ï¸ Security Audit Dashboard

### Visual Proof of Credential Safety

Access the audit dashboard at: **http://localhost:8000/audit**

<img src="https://img.shields.io/badge/Status-Production%20Ready-success?style=for-the-badge" alt="Status"/>

### âœ¨ Features

| Feature | Description |
|---------|-------------|
| ğŸšï¸ **Toggle Control** | Enable/disable audit logging with one click |
| ğŸ“Š **Real-Time Stats** | Total logs, compliance reports, leak count (should be 0!) |
| ğŸ” **Live Log Viewer** | See every LLM request/response with timestamps |
| ğŸ“‹ **Compliance Reports** | Auto-generated SOC2/ISO27001 documentation |
| ğŸ¨ **Color-Coded Alerts** | Purple (request), Green (safe), Red (leak detected) |
| âš¡ **Auto-Refresh** | Updates every 10 seconds |

### ğŸš€ Quick Demo (30 seconds)

**Perfect for stakeholder presentations!**

1. **Enable Audit Logging**:
   ```
   Navigate to: http://localhost:8000/audit
   Toggle switch to ON (turns purple/green)
   ```

2. **Run a Test**:
   ```
   Return to: http://localhost:8000/
   Fill credentials and generate tests
   ```

3. **Show Visual Proof**:
   ```
   Return to: http://localhost:8000/audit
   Point to "Credential Leaks: 0" âœ… (in green)
   Click "View Report" for compliance docs
   ```

### ğŸ“ˆ What Gets Logged

Each audit entry contains:
- â° **Timestamp**: When request was made
- ğŸ“ **Prompt Preview**: First 300 chars of LLM prompt
- ğŸ” **Leak Detection**: Automatic pattern matching
- #ï¸âƒ£ **SHA-256 Hash**: Cryptographic verification
- âœ… **Safe/Danger Badge**: Visual indicator

**Example Log Entry:**
```json
{
  "timestamp": "2025-12-02T14:30:00Z",
  "type": "LLM_REQUEST",
  "prompt_length": 1247,
  "prompt_hash": "a3f2b8...",
  "leak_detected": false,  â† Should ALWAYS be false!
  "prompt_preview": "You are starting on an AUTHENTICATED session..."
}
```

### ğŸ¢ Enterprise Benefits

- âœ… **POC Demonstrations**: Live visual proof for security teams
- âœ… **Compliance Audits**: Exportable logs + reports
- âœ… **Continuous Monitoring**: Track all LLM interactions
- âœ… **Zero Configuration**: Works out-of-the-box
- âœ… **Persistent Settings**: Survives server restarts

---

## ğŸ¯ How It Works

### 1ï¸âƒ£ **Test Generation Flow**

```mermaid
sequenceDiagram
    participant User
    participant UI
    participant Server
    participant Secrets
    participant Agent
    participant LLM
    participant Browser

    User->>UI: Configure test (URL, goal, creds)
    UI->>Server: POST /api/generate
    Server->>Secrets: Initialize with credentials
    Secrets->>Browser: inject_login() (LOCAL)
    Browser-->>Secrets: Logged in âœ“
    Secrets->>Agent: Hand over authenticated browser
    Agent->>LLM: "Explore this page (post-login)"
    LLM-->>Agent: Test cases JSON
    Agent-->>Server: Return test cases
    Server->>UI: Display test cases
```

### 2ï¸âƒ£ **Test Execution Flow**

```mermaid
sequenceDiagram
    User->>UI: Click "Run Test"
    UI->>Server: POST /api/execute
    Server->>Generator: Load Playwright script
    Generator->>Browser: Launch + inject credentials
    Browser->>Browser: Execute test steps
    Browser-->>Server: PASS/FAIL result
    Server-->>UI: Update test status
```

---

## ğŸ› ï¸ Usage Example

### Via Web UI

1. **Configure Test**:
   - Suite Name: "Smoke Test A"
   - URL: `https://www.saucedemo.com`
   - Username: `standard_user`
   - Password: `secret_sauce`
   - Goal: "Add item to cart, verify, remove, logout"

2. **Launch Agent**: AI explores and generates test cases

3. **Execute Tests**: Click "Run" to validate generated scripts

### Via API

```bash
# Generate test cases
curl -X POST http://localhost:8000/api/generate \
  -H "Content-Type: application/json" \
  -d '{
    "suite_name": "Smoke Test",
    "url": "https://www.saucedemo.com",
    "description": "Verify cart functionality",
    "username": "standard_user",
    "password": "secret_sauce",
    "headless": false
  }'

# Execute a test case
curl -X POST http://localhost:8000/api/execute \
  -H "Content-Type: application/json" \
  -d '{
    "suite_name": "Smoke Test",
    "test_case_id": "TC001"
  }'
```

---

## ğŸ”§ Advanced Features

### ğŸ­ Headless Mode

Toggle between visible browser (for debugging) and background execution (for CI/CD):

```python
# In UI: Use the "Headless Mode" toggle
# In API:
{
  "headless": true  # Background execution
}
```

### ğŸ’¾ Session Caching

First run performs login â†’ saves cookies to `data/auth_cache/`
Subsequent runs load cached session â†’ **~10 seconds faster!**

To clear cache:
```bash
rm -rf data/auth_cache/*
```

### ğŸ§ª Custom LLM Models

Use local models like Ollama:

```bash
# In .env
LLM_PROVIDER=custom
CUSTOM_BASE_URL=http://localhost:11434/v1
CUSTOM_MODEL_NAME=llama2
```

---

## ğŸ“Š Technical Stack

| Layer | Technology | Purpose |
|-------|-----------|---------|
| **Frontend** | HTML5, TailwindCSS, Vanilla JS | Clean, responsive UI |
| **Backend** | FastAPI (Python) | Async API server |
| **AI Agent** | Browser-Use + LangChain | Autonomous browser control |
| **LLM** | Gemini 2.0 / GPT-4 / Claude | Test case reasoning |
| **Automation** | Playwright (Python) | Browser automation |
| **Security** | SecretsManager | Zero-trust credential handling |

---

## ğŸ” Security Best Practices

1. **Never Commit `.env`**: Already in `.gitignore`
2. **Rotate API Keys**: Use environment-specific keys
3. **Review Generated Tests**: Validate before production use
4. **Session File Permissions**: `chmod 600 data/auth_cache/*`
5. **HTTPS in Production**: Use SSL for web UI

---

## ğŸ¤ Contributing

Contributions welcome! Please:

1. Fork the repository
2. Create a feature branch: `git checkout -b feature/amazing-feature`
3. Commit changes: `git commit -m 'Add amazing feature'`
4. Push to branch: `git push origin feature/amazing-feature`
5. Open a Pull Request

---

## ğŸ“œ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---

## ğŸ™ Acknowledgments

- [Browser-Use](https://github.com/browser-use/browser-use) for AI browser automation
- [Playwright](https://playwright.dev/) for reliable browser testing
- [LangChain](https://langchain.com/) for LLM orchestration
- [FastAPI](https://fastapi.tiangolo.com/) for modern Python APIs

---

## ğŸ“ Support

- ğŸ“š [Architecture Guide](docs/ARCHITECTURE_GUIDE.md)
- ğŸ› [Report Issues](https://github.com/yourusername/AI_Powered_Testing_Agent/issues)
- ğŸ’¬ [Discussions](https://github.com/yourusername/AI_Powered_Testing_Agent/discussions)

---

**Built with â¤ï¸ for QA Engineers who love automation**
